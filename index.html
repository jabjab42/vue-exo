<html lang="fr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mes films préférés</title>
</head>

<body>
  <h1>Connexion</h1>
  <form>
    <label for="email">Email</label>
    <input type="text" name="email" id="email" required>

    <label for="password">Mot de passe</label>
    <input type="password" name="password" id="password" required>

    <input type="submit" value="Connexion">
  </form>
</body>

</html>


<script>
  document.querySelector('form').addEventListener('submit', async function (event) {
    event.preventDefault();

    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;

    if (!email || !password) {
      alert('Tous les champs doivent être remplis.');
      return;
    }

    const emailPattern = /^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g;

    if (!emailPattern.test(email)) {
      alert('Veuillez entrer une adresse email valide.');
      return;
    }

    if (password.length < 8) {
      alert('Le mot de passe doit contenir au moins 8 caractères.');
      return;
    }

    const data = {
      email: email,
      password: password
    };

    try {
      await fetch('https://example.com/api/login', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
      })

      alert('Connexion réussie !');

    } catch (error) {
      alert(error);
    }

  });
</script>